<!-- [difficulty=easy] [priority=base] [duration=normal] -->

# Дополнительный код

> Дополнительный код *(two's complement)* - это наиболее распространённый в современных компьютерах способ представления целых чисел со знаком. Главное преимущество — унификация операций сложения и вычитания.

## Особенности:
- Положительные числа хранятся в обычном двоичном виде
- Для отрицательных чисел используется специальное преобразование
- Старший бит остаётся знаковым *(0 - "+", 1 - "-")*
- Нет проблемы двух нулей *(единственный ноль - 000...0)*

## Алгоритм получения дополнительного кода

### Для отрицательных чисел:
1. Записать модуль числа в двоичном виде
2. Инвертировать все биты (получить обратный код)
3. К результату добавить 1

**Пример для -5 (8 бит):**
1. +5 = 00000101
2. Инверсия: 11111010
3. +1: 11111011 → окончательный вид

### Альтернативный метод:
1. Записать модуль числа
2. Вычесть его из 2ⁿ (где n — разрядность)

## Примеры представления (8 бит)

| Десятичное | Доп. код    | Примечание               |
|------------|-------------|--------------------------|
| +127       | 01111111    | Максимальное положительное|
| +1         | 00000001    |                          |
| 0          | 00000000    | Единственное представление|
| -1         | 11111111    |                          |
| -127       | 10000001    |                          |
| -128       | 10000000    | Особый случай для 8 бит  |

## Арифметические операции

### Сложение:
Работает как обычное двоичное сложение, включая знаковый бит.

**Пример:**
5 - 3 = 5 + (-3) = 2
```
   00000101 (5)
   11111101 (-3)  
 = 00000010 (2)
```

### Вычитание:
Превращается в сложение с дополнительным кодом.

**Пример:**
7 - 5 = 7 + (-5) = 2
```
   00000111 (7)
   11111011 (-5) 
 = 00000010 (2)
```
## Особенности и преимущества

1. **Единый ноль**: только 000...0
2. **Простота операций**: одинаковые алгоритмы для сложения/вычитания
3. **Естественное переполнение**: переход от -1 (111...1) к 0 (000...0)
4. **Широкий диапазон**: на одно отрицательное число больше, чем в прямом коде

## Диапазоны значений

| Разрядность | Диапазон                  | Особые значения          |
|-------------|---------------------------|--------------------------|
| 8 бит       | -128..+127                | -128 = 10000000          |
| 16 бит      | -32768..+32767            | -32768 = 1000000000000000|
| 32 бит      | -2³¹..+2³¹-1              | ≈ ±2.1 миллиарда         |
| 64 бит      | -2⁶³..+2⁶³-1              | ≈ ±9.2 квинтиллиона      |

## Проверь себя
### Как представляется число -18 в 8-битном дополнительном коде?
```quiz 
- 11101110
+ 11101110
- 00010010
- 10010010
```
### Какое десятичное число соответствует коду 11110111?
```quiz 
- +247
+ -9
- -247
- +9
```
### Какой главный недостаток дополнительного кода?
```quiz 
- Наличие двух нулей
+ Ассиметричный диапазон (-128..127)
- Сложность преобразования
- Требование специальных процессоров
```
### Какой диапазон для 16-битного дополнительного кода?
```quiz 
- -32767..+32767
+ -32768..+32767
- -65535..+65535
- 0..65535
```
### Почему дополнительный код используется в процессорах?
```quiz 
- Позволяет хранить дроби
+ Упрощает арифметические операции
- Требует меньше памяти
- Поддерживает числа Фибоначчи
```
### Что означает код 10000000 в 8-битном дополнительном коде?
```quiz 
- +128
+ -128
- -0
- Ошибка переполнения
```
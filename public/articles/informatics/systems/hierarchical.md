<!-- [difficulty=easy] [priority=base] [duration=normal] -->

# Иерархические системы

## Двоично-десятичная система счисления (BCD)


**Двоично-десятичный код (Binary-Coded Decimal, BCD)** - это:

- Компромисс между двоичной и десятичной системами

- Каждая десятичная цифра (0-9) кодируется 4 битами

- Не путать с обычным двоичным представлением!

### Преимущества:

- Простота преобразования в/из десятичной системы

- Точное представление десятичных дробей

- Удобство для финансовых расчетов

### Недостатки:

- Меньшая плотность информации (избыточность)

- Сложность арифметических операций

## Двоично-десятичные коды

  
### Код 8421 (натуральный BCD)


| Десятичная | Двоичный код (BCD) |
|------------|-------------------|
|     0      |       0000        |
|     1      |       0001        |
|     2      |       0010        |
|     3      |       0011        |
|     4      |       0100        |
|     5      |       0101        |
|     6      |       0110        |
|     7      |       0111        |
|     8      |       1000        |
|     9      |       1001        |

**Особенности**:

- Наиболее распространенный

- Веса разрядов: 8-4-2-1

- Запрещенные комбинации: 1010-1111 (A-F в hex)

### Другие коды BCD

- **Код 2421**: альтернативное взвешенное кодирование

- **Код "с избытком 3"**: = BCD + 0011

- **Код Грея**: используется в датчиках положения

## Сложение двоично-десятичных чисел

### Алгоритм сложения:

1. Складываем как обычные двоичные числа

2. Если результат > 9 (1001) в тетраде:

- Добавляем корректирующее число 6 (0110)

- Учитываем перенос в старшую тетраду


 _Пример 1) : 7 + 6_
```
0111 (7)
+
0110 (6)
= 1101 (13 в двоичном, но недопустимо в BCD)
```
**Проблема**: `1101` в BCD — это **запрещённая комбинация** (в BCD допустимы только числа от `0000` до `1001`, т.е. 0–9 в десятичной).

**Решение**: Добавляем число 6 (0110) к ошибочному результату:
```
1101
+
0110
 1 0011 (перенос в старшую тетраду + 0011)
```
**Разбиваем результат на тетрады (по 4 бита)**:
- `0001` (старшая тетрада = **1** в десятичной)
- `0011` (младшая тетрада = **3** в десятичной)

**Итог**: `0001 0011` в BCD = **13** в десятичной системе.

### Почему добавляем именно 6?
- В BCD каждая тетрада (4 бита) должна представлять десятичную цифру **0–9**.
- Если при сложении получается число **> 9**, добавление `0110` (6) компенсирует "перескок" 6 запрещённых значений (`1010`–`1111`), что эквивалентно переносу в следующий десятичный разряд.



_Пример 2) : 8 + 5_
```
1000
+
0101
= 1101 (13) → недопустимо
+
0110 (коррекция)
= 1 0011 (13 в BCD)
```
_Пример 3) : 9 + 9_
```
1001
+
1001
= 1 0010 (18 в двоичном)
+
0110 (коррекция младшей тетрады)
= 1 1000 (18 в BCD)
 ```
## Проверка знаний

### Как представить число 15 в BCD 8421?

```quiz
- 0001 0101
+ 0001 0101
- 1111
- 0000 1111
```
### Какое число закодировано как 1001 0111 в BCD?
```quiz
- 97
+ 97
- 151
- 0x97
```
### Что нужно добавить при коррекции BCD-суммы 1100?
```quiz
- 0110
+ 0110
- 1010
- 0011
```
### Какой код BCD используется в калькуляторах?
```quiz
- Код Грея
+ 8421
- UTF-8
- ASCII
```
